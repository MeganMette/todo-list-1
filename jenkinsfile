pipeline {
    agent any
    export DATABASE_URI=sqlite:///data.db
    stages {
        stage('Install Dependencies') {
            steps {
               sh "bash install.sh"
            }
        }
        stage('Test') {
            steps {
                sh "bash python3 -m pytest --doctest-modules --junitxml=junit/test-results.xml --cov=application --cov-report=xml --cov-report=html"
            }
        }
        stage('Deploy') {
            steps {
                //
            }
        }
    }
}
